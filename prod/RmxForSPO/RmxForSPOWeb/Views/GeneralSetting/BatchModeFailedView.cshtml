
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>BatchModeFailedView</title>
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="~/Scripts/msgbox.js"></script>
    <style type="text/css">
        td{
            min-width:200px;
            word-break:break-word;
        }
    </style>
</head>
<body style="font-family:'Segoe UI', 'Segoe', Tahoma, Helvetica, Arial,sans-serif;">
    <div id="nextlabs" style="background-color:#1a4994;width:100%;">
        <img src="~/Content/NextLabs.png" />
    </div>
    <h2>List of unencrypted items in batch mode</h2>
    <table id="myTable" cellpadding="1" cellspacing="0" border="1">
        <thead>
            <tr>
                <th>Item</th>
                <th>Reason</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</body>
</html>
<script type="text/javascript">
    var jsonData = @Html.Raw(Json.Encode(@ViewBag.BatchModeFailFiles));
    var obj = JSON.parse(jsonData);
    var tbody=$('<tbody></tbody>');
    $(obj).each(function (index){
        var val=obj[index];
        var tr=$('<tr></tr>');
        tr.append('<td>'+ val.FileUrl + '</td>' + '<td>'+ val.Reason + '</td>');
        tbody.append(tr);
    });
    $('#myTable tbody').replaceWith(tbody);
</script>
